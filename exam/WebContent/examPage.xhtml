<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	
<h:head>
	<h:outputStylesheet name="bootstrap.min.css" library="css" />
	<h:outputStylesheet name="bootstrap.css.map" library="css" />
	<h:outputStylesheet name="bootstrap.css" library="css" />
	<h:outputStylesheet name="bootstrap-theme.css" library="css" />
	<h:outputStylesheet name="bootstrap-theme.css.map" library="css" />
	<h:outputStylesheet name="bootstrap-theme.min.css" library="css" />
	<h:outputStylesheet name="border.css" library="css"/>
	<!-- <h:outputStylesheet name="style.css" library="css" /> -->
	<h:outputScript name="countdown.js" library="js" />
	<h:outputScript name="jquery-1.3.1.min.js" library="js"></h:outputScript>
	<h:outputScript name="jquery.countdown.js" library="js"></h:outputScript>
	<h:outputScript name="jquery.countdown.min.js" library="js"></h:outputScript>
	

	<!-- shadow	: {
											x : 0,			// x offset (in pixels)
											y : 3,			// y offset (in pixels)
											s : 4,			// spread
											c : "#000000",	// color
											a : 0.4			// alpha	// <- no comma on last item!
										}
						}, -->
</h:head>

<h:body>
<div id="wrapper">
			<div id="container-fluid">
			
		<h:form id="examPageId">
			<div class="col-md-12" style="padding-top: 5%;padding-bottom: 3%">
				<div class="col-md-8" style="padding-left: 10%">
					<h2><h:outputText value="Exam name  - #{examBean.examPaperVO.examName}"></h:outputText></h2>
					<h2><h:outputText value="Batch - #{examBean.examPaperVO.batchCd}"></h:outputText></h2>
					<h2><h:outputText value="Paper - #{examBean.examPaperVO.paperNo}"></h:outputText></h2>
					<h2><h:outputText value="Duration - #{examBean.examPaperVO.examDuration} min"></h:outputText></h2>
					<h:inputHidden id="timeLeftHidden"  value="#{examBean.timeLeft}"></h:inputHidden>
					<br />
				</div>
				
				<div  id="timeSet" class="col-md-4">
					
					
					<script type="text/javascript">
					var duration =  #{examBean.timeLeft}*60*1000;
					var duration_min = new Date().getTime() + duration;
					  $('#timeSet').countdown(duration_min,{elapse: true})
					 	.on('update.countdown', function(event) {
					 		var $this = $(this);
					 		var timeLeft = event.offset.minutes + event.offset.seconds/60;
					 		console.log("Minute left "+event.offset.minutes);
					 		console.log("Second left "+event.offset.seconds);
					 		 $("#examPageId\\:timeLeftHidden").val(timeLeft);
					 		//#{examBean.timeLeft} = event.offset.minutes;
					 		//alert("Time Left:"+event.offset.minutes+"  --  "+$("#examPageId\\:timeLeftHidden").val());
					 		$this.html(event.strftime('Time left: <span>%H:%M:%S</span>'));
					    
					 });
					</script>
					<!--  <script type="text/javascript">
						var duration = #{examBean.timeLeft} ;
						var myCountdown = new Countdown({
								time : duration,
								width : 150,
								height : 80,
								rangeHi : "minute",
								numbers : {
									font : "Arial",
									color : "#FFFFFF",
									bkgd : "#365D8B",
									fontSize : 200,
									rounded : 0.15, // percentage of size 
								},

								labels : {
									textScale : 0.8,
									offset : 5
								},
								onEnd: function() {
							    	//console.log('Happy New Year!');
									alert("you clicked"+ myCountdown.e._lastTime);
							    }

							});
						function setTimer(){
							
							alert("you clicked");
							//console.log("Inside set timer");
							//return true;
							//+ myCountdown.time)
							//document.getElementById('timeLeftHidden').value = myCountdown.time;
									
						   }
						
					   /*$( document ).ready(function() {
					    	//duration = #{examBean.examPaperVO.examDuration};
					        //console.log( duration );
					       // setTimer();
					    }); */
					</script>-->
				</div>
			</div>
			
			<div class="container" align="left"  style="padding-left: 7%;padding-top: 20%">
			  <!--  <div style="border: 2px solid #8AC007;padding-left: 5%;padding-bottom: 5%;">-->
			 <div class="rounded_border"> 
					<div>
							<h1><h:outputLabel value="Question : "/></h1>
							<h2><h:outputLabel value="#{examBean.questionVO.question}" /></h2>
					</div>
					<div>
						<h1><h:outputLabel value="Options : "/></h1>
						<h:selectOneRadio
									value="#{examBean.examAns}" style="font-size:200%;" 
									layout="pageDirection">
									<f:selectItem itemValue="Option 1"
										itemLabel="#{examBean.questionVO.option1}"/>
									<f:selectItem itemValue="Option 2"
										itemLabel="#{examBean.questionVO.option2}" />
									<f:selectItem itemValue="Option 3"
										itemLabel="#{examBean.questionVO.option3}" />
									<f:selectItem itemValue="Option 4" 
										itemLabel="#{examBean.questionVO.option4}" />
						</h:selectOneRadio>						
								<h:inputHidden id="quesIdHidden"
									value="#{examBean.questionVO.questionId}" /> <h:inputHidden
									id="buttonNameHidden" value="#{examBean.renderButton}" />
									
					</div>
					<div align="center">
					<h:commandButton id="nextBtn" value="#{examBean.renderButton}"
						action="#{examBean.populateNextQuestion}" class="btn btn-lg btn-primary"
						>
						<f:param name="examObtainedMarks"
							value="#{examBean.examObtainedMarks}" />
					</h:commandButton>
					
					</div> 
				</div>
			</div>
	</h:form>
	</div>
	</div>
</h:body>
</html>